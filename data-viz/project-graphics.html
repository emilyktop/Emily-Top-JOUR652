<!doctype html>

<html lang="en">

<head>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Final Project</title>

  <meta tag="description" content="Media Project">
  <meta tag="author" content="Emily Top">

  <!-- Bootstrap CSS -->
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

 <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.8/c3.min.css" rel="stylesheet">

 <!-- Load our CSS -->
 <link rel="stylesheet" href="style.css">

 <!-- Load d3.js and c3.js -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js" charset="utf-8"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.8/c3.min.js"></script>

</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
   <a class="navbar-brand" href="#">Navbar</a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     <span class="navbar-toggler-icon"></span>
   </button>

   <div class="collapse navbar-collapse" id="navbarSupportedContent">
     <ul class="navbar-nav mr-auto">
       <li class="nav-item active">
         <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
       </li>
   <li class="nav-item">
     <a class="nav-link" href="#">Link</a>
   </li>
   <li class="nav-item dropdown">
     <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown
     </a>
     <div class="dropdown-menu" aria-labelledby="navbarDropdown">
       <a class="dropdown-item" href="#">Action</a>
       <a class="dropdown-item" href="#">Another action</a>
       <div class="dropdown-divider"></div>
       <a class="dropdown-item" href="#">Something else here</a>
     </div>
   </li>
   <li class="nav-item">
     <a class="nav-link disabled" href="#">Disabled</a>
   </li>
 </ul>
 <form class="form-inline my-2 my-lg-0">
   <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
   <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
 </form>
</div>
</nav>


<div id="container">

<iframe width="500" height="300" scrolling="no" frameborder="no" src="https://fusiontables.google.com/embedviz?q=select+col2+from+1K1_BXL_Lu1HM7D4ZhESXkYAcOhaQwnQOGLvPhMrx&amp;viz=MAP&amp;h=false&amp;lat=37.423&amp;lng=-122.084&amp;t=1&amp;z=3&amp;l=col2&amp;y=2&amp;tmplt=2&amp;hml=GEOCODABLE"></iframe>

<iframe src="https://uploads.knightlab.com/storymapjs/9f4720f9189957d497e751802be5e143/concussion-stories/draft.html" frameborder="0" width="100%" height="800"></iframe>

<br>

  <div class="graphic-container">
  <h2>Number of NHL Concussions per Season</h2>
  <p>The number of concussions per year peaked during the time period in the season 2000-2001. </p>
  <div id="ConcussionsbySeason"></div>
  <em>Source: Data collected by Canadian Medical Association</em>
  </div>


<br>

  <div class="graphic-container">
    <h2>Rate of Concussion per 100 players</h2>
    <p>The rate of concussions per 100 players peaked twice in 1999 and 2001, but steadied around 2003, for the time period in question. </p>
    <div id="RateConcussion"></div>
    <em>Source: Data collected by Canadian Medical Association</em>
  </div>


<div class="graphic-container">
<h2>Which position had the most concussions in the NHL between the 1997-1998 season to 2003-2004 season?</h2>
<p>Concussions occurred most for players playing forward. Goalies had the fewest number of concussions.</p>
<div id="ByPosition"></div>
<em>Source: Data collected by </em>
</div>
<br>

</div> <!-- end container div-->

<br>

<footer>
  Copyright Emily Top, 2018
</footer>


<!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>


  <script type="text/javascript">

  //CHART 1
 var chart = c3.generate({
   bindto: '#RateConcussion',
   data: {
     x: 'x',
     columns: [
       ['x', 1998, 1999, 2000, 2001, 2002, 2003, 2004],
       ['Rate of Concussion per 100 players', 4.6, 7.0, 4.9, 7.7, 6.5, 4.9, 4.9],
     ]
   },
   color: {
     pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895']
   }
 });

//Chart 2
 var chart2 = c3.generate({
      bindto: '#ConcussionsbySeason',
      data: {
        columns: [
          ['1997-1998', 56],
          ['1998-1999', 88],
          ['1999-2000', 66],
          ['2000-2001', 109],
          ['2001-2002', 96],
          ['2002-2003', 72],
          ['2003-2004', 72]
        ],
        type: 'bar'
      },
      color: {
        pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895', '#fae255', '#af3d46', '#f8bb63', '#818281']
      }
    });

//Chart 3
    var chart3 = c3.generate({
    bindto: '#ByPosition',
    data: {
      // iris data from R
      columns: [
        ['Forwards', 64.1],
        ['Defenders', 31.4],
        ['Goalies', 4.5],
      ],
      type : 'pie',
      onclick: function (d, i) { console.log("onclick", d, i); },
      onmouseover: function (d, i) { console.log("onmouseover", d, i); },
      onmouseout: function (d, i) { console.log("onmouseout", d, i); }
    },
    color: {
      pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895']
    }
  });





  </script>
</body>

</html>
